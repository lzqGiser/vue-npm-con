/** * Created by lzq on 2017/8/31. * // production环境文件操作 */const fse = require('fs-extra');const path = require('path');const packageJSON = require('../../package.json');// import packageJSON from '../../package.json' // 这种用法，可以先发包，然后需要用babel-loader转换const config = require('../../config');const copyFile = async(file) => {  // 传入file名称，然后复制到指定的目录下 这里主要处理复制到 build目录下    const sourceFilePath = path.join(config.build.productionRoot, file);  // vue-npm-con    const buildFilePath = path.join(config.build.assetsRoot, file);    console.log(buildFilePath);    return await fse.copy(sourceFilePath, buildFilePath);};const createPackageFile = function(){    const {        author,        version,        description,        keywords,        repository,        license,        peerDependencies,        dependencies,        engines    } = packageJSON;   // 解构赋值方法    const npmPackage = {        name: packageJSON.name,        author,        version,        description,        main: './index.js',        keywords,        repository,        license,        peerDependencies,        dependencies,        engines    };    const npmPackagePath = path.join(config.build.assetsRoot, 'package.json');    fse.outputJSON(npmPackagePath, npmPackage, function(err){        console.log(err);    });  // 输出json文件};module.exports = {    createPackageFile,    copyFile};